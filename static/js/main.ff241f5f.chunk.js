(this.webpackJsonpreactfinances=this.webpackJsonpreactfinances||[]).push([[0],{65:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(30),a=n.n(r),s=n(8),i=n(9),j=n(11),o=n(10),l=n(16),d=n(2),u=n(13),b=n(31),h=n.n(b),p=n(0),O=function(e){e.onSubmit;var t=Object(c.useState)(""),n=Object(u.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)(""),i=Object(u.a)(s,2),j=i[0],o=i[1],l=Object(c.useState)(""),d=Object(u.a)(l,2),b=d[0],O=d[1],x=Object(c.useState)(""),m=Object(u.a)(x,2),f=m[0],v=m[1],y=Object(c.useState)(""),g=Object(u.a)(y,2),w=g[0],S=g[1];return Object(p.jsxs)("div",{className:"no-touchy",id:"myForm",children:[Object(p.jsx)("div",{className:"input-box",children:Object(p.jsx)("input",{type:"text",placeholder:"Who are you?",onChange:function(e){a(e.target.value)}})}),Object(p.jsx)("div",{className:"input-box",children:Object(p.jsx)("input",{id:"today",type:"date",onChange:function(e){O(e.target.value)}})}),Object(p.jsx)("div",{className:"input-box",children:Object(p.jsx)("input",{type:"text",placeholder:"What did you buy?",onChange:function(e){o(e.target.value)}})}),Object(p.jsxs)("div",{className:"input-box",children:[Object(p.jsx)("i",{children:"$"}),Object(p.jsx)("input",{type:"number",id:"price",placeholder:"How much was it?",onChange:function(e){v(e.target.value)}})]}),Object(p.jsx)("div",{className:"input-box",children:Object(p.jsx)("input",{type:"text",placeholder:"Anything else?",onChange:function(e){S(e.target.value)}})}),Object(p.jsx)("div",{className:"button",children:Object(p.jsx)("input",{type:"submit",value:"Submit",onClick:function(){console.log("test");var e=new FormData;e.append("user",r),e.append("price",f),e.append("description",j),e.append("date",b),e.append("notes",w),e.append("file",new Blob(["test payload"],{type:"text/csv"})),h()({url:"https://api.stop-watch.xyz/webfinances.php",method:"POST",data:e,headers:{"Content-Type":"multipart/form-data"}}),window.location.href="#submit"}})})]})},x=function(e){Object(j.a)(n,e);var t=Object(o.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(p.jsx)("div",{children:Object(p.jsx)(O,{})})}}]),n}(c.Component),m=n(33),f=function(e){Object(j.a)(n,e);var t=Object(o.a)(n);function n(e){var c;return Object(s.a)(this,n),(c=t.call(this,e)).state={error:null,isLoaded:!1,items:[],userPriceArr:0},c}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("https://api.stop-watch.xyz/webfinances.php").then((function(e){return e.json()})).then((function(t){e.setState({isLoaded:!0,items:t,userPriceArr:t.map((function(e){return[e.User,e.Amount]}))})}),(function(t){e.setState({isLoaded:!0,error:t})}))}},{key:"render",value:function(){var e=this.state,t=e.error,n=e.isLoaded,c=e.items,r=e.userPriceArr;if(t)return Object(p.jsxs)("div",{children:["Error: ",t.message]});if(n){var a=function(e){var t=Object(m.a)(new Set(e.map((function(e,t){return e[0]}))));t.push("Total");var n=[t,new Array(t.length+1).fill(0),new Array(t.length+1).fill(0)];n=n[0].map((function(e,t){return n.map((function(e){return e[t]}))}));var c=e[0].map((function(t,n){return e.map((function(e){return e[n]}))}))[1].reduce((function(e,t){return parseFloat(e)+parseFloat(t)}),0).toFixed(2);n[n.length-1][1]=c;for(var r=0;r<e.length;r++)for(var a=e[r][0],s=e[r][1],i=0;i<n.length;i++)a===n[i][0]&&(n[i][1]+=parseFloat(s));console.log(n);for(var j=0;j<n.length;j++)n[j][2]=((c-n[j][1])/(n.length-1)).toFixed(2);return console.log(n[0][2]," > ",n[1][2]," = ",n[0][2]<n[1][2]),parseInt(n[0][2])<parseInt(n[1][2])?(n[1][2]=(n[1][2]-n[0][2]).toFixed(2),n[0][2]="n/a"):(n[0][2]=(n[0][2]-n[1][2]).toFixed(2),n[1][2]="n/a"),console.log(n[1][2]-n[0][2]),n}(r),s=a[a.length-1][1],i={color:"rgb(".concat(s/1e3*255,",0,0)")};return Object(p.jsxs)("div",{children:[Object(p.jsxs)("h2",{children:["Total Spent: ",Object(p.jsxs)("span",{style:i,children:[" $",s]})]}),Object(p.jsx)("br",{}),Object(p.jsxs)("table",{id:"exprep",children:[Object(p.jsx)("thead",{className:"no-touchy",children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Name"}),Object(p.jsx)("th",{children:"Amount Spent"}),Object(p.jsx)("th",{children:"Owes"})]})}),Object(p.jsx)("tbody",{children:a.map((function(e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e[0]}),Object(p.jsxs)("td",{children:["$ ",e[1]]}),Object(p.jsxs)("td",{children:["$ ",e[2]]})]},e.id)}))})]}),Object(p.jsxs)("table",{id:"transactions",children:[Object(p.jsx)("thead",{className:"no-touchy",children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Date"}),Object(p.jsx)("th",{children:"Name"}),Object(p.jsx)("th",{children:"Description"}),Object(p.jsx)("th",{children:"Price"})]})}),Object(p.jsx)("tbody",{children:c.map((function(e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.Date.substr(5)}),Object(p.jsx)("td",{children:e.User}),Object(p.jsx)("td",{id:"Desc",children:e.Description}),Object(p.jsxs)("td",{children:["$",e.Amount]})]},e.id)}))})]})]})}return Object(p.jsx)("div",{children:"Loading..."})}}]),n}(c.Component),v=function(e){Object(j.a)(n,e);var t=Object(o.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{children:"Submitted"}),Object(p.jsx)("p",{})]})}}]),n}(c.Component),y=function(){return Object(p.jsx)("div",{children:Object(p.jsxs)("ul",{className:"header",children:[Object(p.jsx)("li",{children:Object(p.jsx)(l.b,{style:{borderRadius:"5px 0px 0px 5px"},exact:!0,to:"/",children:"Home"})}),Object(p.jsx)("li",{children:Object(p.jsx)(l.b,{to:"/table",children:"Table"})})]})})},g=function(e){var t=e.title,n=e.subtitle;return document.title=t+" | "+n,Object(p.jsxs)("div",{className:"no-touchy",children:[Object(p.jsx)("h1",{className:"pageTitle",children:t}),Object(p.jsx)("h2",{className:"pageSub",children:n}),Object(p.jsx)(y,{})]})};g.defaultProps={title:"Shared Expenses"};var w=g,S=function(e){Object(j.a)(n,e);var t=Object(o.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=new Date,t=e.toLocaleString("default",{month:"long"})+" "+e.getFullYear();return Object(p.jsx)(l.a,{children:Object(p.jsxs)("div",{children:[Object(p.jsx)(w,{subtitle:t}),Object(p.jsxs)("div",{className:"content",children:[Object(p.jsx)(d.a,{exact:!0,path:"/",component:x}),Object(p.jsx)(d.a,{path:"/table",component:f}),Object(p.jsx)(d.a,{path:"/submit",component:v})]})]})})}}]),n}(c.Component);n(65);a.a.render(Object(p.jsx)(S,{}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.ff241f5f.chunk.js.map